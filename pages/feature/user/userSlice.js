import { createAsyncThunk, createSlice } from "@reduxjs/toolkit";

const authState = {
    isLoading: false,
    isError: "",
    usersData: {}
}


export const userSlice = createSlice({
    name: "users",
    initialState: authState,
    reducers: {
    },
    extraReducers: (builder) => {
        builder.addCase(getUsersData.pending, (state, action) => {
            state.isLoading = true;
        });
        builder.addCase(getUsersData.rejected, (state, action) => {
            state.isLoading = "Rejected";
            state.isError = action.error.message;
        });
        builder.addCase(getUsersData.fulfilled, (state, action) => {
            state.isLoading = "Completed";
            // console.log(action,"action")
            state.usersData = action.payload;
        });
    },
});
export const getUsersData = createAsyncThunk(
    "getUsersData",
    async (params, thunkAPI) => {
        const apiEndpoint = 'https://documentssearch-dt.search.windows.net/indexes/searchrelationindex/docs';
// Your Azure Cognitive Search API version
const apiVersion = '2023-07-01-Preview';
// Your authorization token
const authToken = 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyIsImtpZCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9mZWQ5NWU2OS04ZDczLTQzZmUtYWZmYi1hN2Q4NWVkZTM2ZmIvIiwiaWF0IjoxNjkzODk2NTExLCJuYmYiOjE2OTM4OTY1MTEsImV4cCI6MTY5MzkwMTg2NiwiYWNyIjoiMSIsImFpbyI6IkFUUUF5LzhVQUFBQTh3Y2FjbkJ3SUZ2dVRDY1hMVU1SU0VKQm5sN24reERvRTA2YXozRVgrOW1hM0Zld0J3YTNMOUlvaERpSXExdUEiLCJhbXIiOlsicHdkIiwicnNhIl0sImFwcGlkIjoiYzQ0YjQwODMtM2JiMC00OWMxLWI0N2QtOTc0ZTUzY2JkZjNjIiwiYXBwaWRhY3IiOiIyIiwiZGV2aWNlaWQiOiJhODc0NWJlYi1kMTU4LTRiMzEtYTgyNy02MGE1YWQ1OWFjY2UiLCJmYW1pbHlfbmFtZSI6IlNyaW5pdmFzYW4iLCJnaXZlbl9uYW1lIjoiQmFsYWppIiwiZ3JvdXBzIjpbImI1ODg4NTAwLWU0NGYtNDY4My04MTRmLTU3ZTJmNmEyNzlkMSIsImY1MWU5NDA1LTRhNTEtNDVkOS1iMTUxLTk1MjUwN2Y3Mjc1MSIsIjIyOTc4MzA2LWU5OGItNGJjZC1hYzIyLWE0MDI1OWVjMDIxYSIsImRmZjJiNzA3LWU2YTgtNDhlMS04OWJlLWE0ZDJlZmJlN2U0YyIsIjJiMWYyMDA4LTliZGUtNDc3My04NDY3LWI4NGQwYTBiOTVjOSIsImU1YjYwMDBiLWI0MTUtNGEzMy1iYjZjLWVjNjBjZWExMjhkNiIsIjU1ZjFlYjBmLThhN2QtNGIwYy05MGRlLTg5YWI1ZWI5MzE0NiIsImEyNGIyNzEwLWIxN2UtNDNlMS1iYWM4LTM5MmFkMWFlYThiOSIsIjhjNGY1ZDEwLWZkOGUtNDQzZi05ZjdhLTkxNzAxNGE3OGFhMSIsImRhNjNlZTEyLTc4NDQtNGZiYy05MGJjLWE0N2NjYmQ2OGI1ZCIsImUwODkzNzEzLTMzZGMtNDg2Yi1iMmRhLWRmZmY1MzdmZGE1NyIsImFjZDc1NTE0LWNjMmQtNGNmZC1hZWUwLTZkNzA4NGIwNDRhMSIsImZlMDc1NjE1LWZjZTUtNGUzYy1hYjVjLTliYzI2ZmI0NGFjYSIsIjMxNTMxMTE4LTI0ZWQtNDc0Ny1hNDE3LWY1ODkyZGFkMzYxZCIsIjI5ZTIwNDE5LWViMGItNDY0Ni04YzE5LTFkYzhiMmEyODYwYSIsIjgyZTdjMzE5LTBiNzMtNDRmZi1iNWQ3LWQ1MWZhMTM1NDQwMiIsImVmN2QyZTFhLTgzZjItNGIzZC05YTFjLWQyYTJlMTRmYWRjOCIsIjE4MjYwNDFiLTdkZGMtNGZiYy04YjVkLTExMGQ2OThjYjI2MiIsImZmNDVkZjFkLTVhZGUtNDNlYy05ZWZhLWNhMjBlZWU3Yzc0ZiIsIjY1OWNmYTFkLTJlOWQtNGEyYi1hYWQzLTNmMWRjZTA5MTBjZiIsImZjMTgwZjIzLTJkM2QtNDI4MC05ZjA4LThiY2I2ZTFmMjExNCIsIjFkZjFlMzI1LWZiNmQtNGFkNy05YjY5LWJmOTMxZWE3NzI4OSIsIjJjNmFlZjI1LTQ3ZDMtNDQ2Ni1iOGNkLWY0YzBjMjVjMzQ0NSIsImMxNmZjNTI2LWM3NzUtNGEyZC1hNjVhLTJiMGFmOGUyZDFiNSIsIjlhNDE4MzI3LWVlZTgtNDBhNi05ODk2LTU5ZWRkODNhM2RlNiIsImZmMGNiNzI4LWQ3OTctNDUyMi1hZjBiLWIzOWFhMmM0MzI2ZiIsImNiZjg2OTJhLTUwODUtNDlkMC1hYWRkLWVjOGE1ZTFlZDQ3YiIsIjllZDY4NDJhLWIyYjEtNDA1MS1hYTc4LTE4NzJmNjg4ZDhjZCIsIjBjNDFlMzJkLTA2ZmYtNDUwMS04NmM5LWQ3ODM2MzRmZDUzZCIsIjljNDYzZTJlLTRhNjktNDVjZi04MDQwLTUzOTliZDI3ZGQwMyIsIjRiY2Y1ZTJlLWNmNDAtNDRkZS1hMDczLWE4NzA2NDA0NGZhMSIsIjA5YmRiZTJlLThhMTgtNDlkMi04M2E3LWM2YzE4ODZhMTY0OCIsImU1Y2U4MTJmLWE0MzUtNDk5YS1iMjY0LWEzYjc4ZWEzZTgzZSIsImQyZjZkZDJmLWVjNWUtNDMxMS1hZmIxLTJlOGRiZDQ2ZmM3NCIsIjQ5Mjk1YzMwLWQ5OGEtNDBhZi04NDRmLTlhNzI0NWQ5MjE3NSIsIjEwNTg2ZTMzLWU1YzYtNGJkNi1hMDVjLTA3NjhlYzgwYjI0ZiIsImRlNTU4ZDM1LTY0MTMtNGM0NC05YWQyLTJkZTM4NTY2ZTcxMyIsIjE2ZDcwMTM4LTkzMzYtNDZlZC05MTY4LWM5ZjUyYWY4ZWQ4ZSIsImI0NDdmNDNhLWI2MDctNDc0ZC1hNDExLTI4OWFkMzZhYjdiYyIsIjYzZDJmYTNiLWU1YWMtNDJhZS1hYzg4LWRmNDFlNGFjNWUyMyIsImZlZmYxNzNjLTZiMTEtNDg5OS04MTNjLTA3NjAyNjA0YzMxNSIsIjk5YjFkMjQzLTgwNTMtNGIyNC05YzIyLTE1ZTMyZjZkM2NkOCIsImZhYzJhZjQ0LWE4M2YtNGNiMS1iOTNiLTYwZGQ2Nzk4ZjcwMSIsIjc5YjUyYzQ3LWRiMmUtNDhjMS04MjNkLWUyYzhmYzY1MmM1YiIsIjA3MTg2MTQ3LTdkZDctNDFlYS04ZTQ1LWMwMWEwNDY3OWJmNCIsIjZiZDQ4MzQ5LTA4YjQtNDU3ZS04MjRkLTQ1ZTlhNzA2MjQ0MiIsImQ5MDE2MzRhLTI4YjctNGZmOC1iMmQ1LWUxMjIwNzExMGM2ZCIsImE2MmQxMjRjLWU4YmYtNDBiOS1hMWU2LTYyMWU5MTMxOGZlYyIsImRlNGUyMTU3LTU1NTktNDNiNi1iZmZhLTBkZjcyZDQ3MDMyMiIsIjk1NGU5NzVkLWEyYTItNDY2NS05M2FmLWYwZWQ1MjUxMmRhNCIsImJhNWI3ZDYwLTM1MjktNGI1Ny04ZThjLWM4YmMzNWYyMGFlNiIsIjkyNDcxMDYxLTI1YjYtNDk4MS1hN2E1LTMyZjZiZTZmOTEwMyIsIjdiNGFjZDYyLTYyYTUtNGRiNS1iZjk2LTFkZDc4NGFkZTIwZCIsImJmMTNhNjY1LTRkZDgtNGJkZi05MTZjLTNhZTI5NWI2ZDdhZSIsIjk5YWM3MzY2LTIxMmQtNDVlOS1hYmU0LThmYzA4Nzk0M2M2YSIsIjRlZTQ0NzY3LTFlZjItNDFkOS05ZDU5LWZkYzcxNjEwNDc1YiIsIjM3MGZmODZhLTk4MzQtNDlmYi05MmVmLWFjMjVlMWFhOGJlMSIsImFjMzM0YzZjLWFmZmItNDMwYy05OTg0LTgxN2UyYThhZDg4OCIsImRiNDMxNjcwLTQ0MmQtNDdjZC1hZjIzLTI0ZjgwMjE1YmExMyIsImNhOTM2NjcwLTA1YTEtNDUxNC04ZGQzLTg5OGE1ZWU4Mjk3ZCIsIjRkNmQxNTcxLWM5YTMtNGRhNC1hNWRjLWY4OGE1ODUzM2IzNCIsIjdjMjA4NjcxLWVhYjktNGMyYS05ZDkzLWM2ZWZhNjAzZDRiYiIsIjQxOGVkMTc1LTAwMzgtNDdmYS04Zjk1LTUyNjRiN2Q4NjhhZSIsIjE1NmE4ODc4LTM0ZTMtNGE0NS1hMGNlLTdjOGZiNzFiNDNmOCIsIjBkYjBhNTdhLTU0MDUtNGFiYi04MmY4LTA1Y2YzYzU0MGMwMCIsImY3ZTdiNjdiLWVjYmYtNGU2MS1iY2VhLTIwZTE3Y2NiOWYxNyIsIjRmNWUwMzdkLWQ1YzQtNDAzOC04NjMzLTBhYzIwN2YxNTY2MiIsIjEwYjg1MzdkLTRmYjctNGY5MS04MTcxLTVlZmU3ZmUyOTg5YiIsImIwOGZhZTgwLTY2NDItNGQzOC05ZjM5LWU5ODFhNjA4NmZlYiIsImZiYTA1Zjg3LTZlNjMtNDhmMi1hOTg1LTg1ZDllZGFkMGM5MCIsImYxNGRhZTg4LWQwNWQtNDljNi04Njk2LWUwYzllZTY2MDc0OCIsIjQxNWY4NTg5LTdmOWItNDYzNi1hYTZkLWU1YzZkZWI1MzY1ZCIsIjdjYmNkNjg5LTA4NWQtNDYxNi1hM2Q0LWQ5MjRlMzVmYjQ3OCIsImY5NmZjYThhLTQyYTAtNGE2Zi04MGJiLTczZGJiNzAxMTZiOSIsIjA5YjY0MThkLTg4ZjMtNDY3OS1hMjk1LTc2ZWZlMTA3OTYxNSIsImJjN2ViMThkLWZlOGMtNDkxMy05MjUwLTk1NmE0NDdmZmQ5OCIsIjA0ZGZjODhmLTU0MzYtNGU4OC1iOTIyLTY4ZjUwOWM4YWUyMCIsIjVkMTIzZjkwLTgzMDYtNDNmMi05MDg1LWE0MDRhZGIwMDRiMSIsImY1MDQ4ODk0LWJiNTktNDAzNC05ODYxLWZmNDAwMjU4YzY1YSIsIjJiMmI2NTk1LTg2MzMtNGYyYy1iNDc1LWVmYmE3MmZhYjMxMyIsIjc4NGIyOTk2LTg3NDUtNDczZS1iZGNiLTM3Yjc0ZGM3YWM0MyIsIjlhZDQ2Mjk3LWUxODgtNDE2Zi04MWNkLWU0NmEyYmRiODkxYyIsIjQ2ZjYwMDk4LTA0MGItNDUzMi1iZmVlLTAxZjVhYjZiZDAwNCIsIjYzYjkwNmEwLTdjYzctNDc3MS1iM2RlLWQ3NGFjODEzODM2ZiIsIjMxYzkyZmEwLWIzN2QtNGI5Zi05MWI5LTFlYTRiNjY5OTdiNCIsIjQyNTlhOWEwLTdlNTItNDYyMS04ZjQwLWM0ZmM0NzVlZGE2ZSIsImU4Y2Y3N2EzLWQ0ZTYtNDlhZC04N2ZkLTgwYzY2YWMxZmYwMCIsIjhiYWNkZGE5LTUwNDktNDNmNC1iMGRjLWY2ZTE0NTU4YmNmMyIsIjIxMDJiNWFjLWVhNDAtNDVlYi1iNTUzLTk4ZTc1ZGZkNTAzYSIsImRhOGJmYWFjLTk2YjYtNDdiNC1hZWNmLTZmMTFjYTJiMzU0ZiIsIjA2MDM0YWFlLWIwNGEtNDQyYi1hYzhmLTQ0MDFkNDdkMGUzYyIsIjRlNTA0MmIwLTQ5MDgtNDc1MC1hZjkxLWRiNzU4Yjk3Y2VkMCIsImEzMjY2OGIwLTMwYTAtNDA5Mi1hZDNkLWMwNTBiMzUyN2IyMCIsIjJiNDFlN2IwLWQyMTgtNGZkYy1hNTQ3LTgyMGU5NzE0OWFlMSIsIjFlZTNiMGIxLWM4NWEtNGUzOS1hNDkwLTllMmQyN2NjMGY0ZCIsImIzMmY2ZWI0LTJmYzAtNDI2MS05ODM1LTk5NjUwZGVkZWRjNiIsIjM5N2E3OWI0LWIzYjEtNGUzMi1iMDVkLTQ1MGVkODMzZjEwMSIsImZmYWY2NWI2LThhODQtNDQzZS04MGYyLTBjNmY0MGIwYmJkZiIsIjA5MjBjNmI2LTIzYjMtNDg2OC04NTAyLTZmMmEzNTZmYjQxNCIsImJiMjg2MmI4LTBjNWMtNDYwNS04ZDc4LWI0YmNiYmYzOTEzMyIsIjFmZjM3N2I4LTJkODQtNDAwNi04Y2U4LTEwZDBhYjlmZGZjNCIsImYwZGMxYWI5LTljYzUtNDI5OC1hYWRlLTc4ZjNiY2YwNDAzNSIsImQxNjVjZGJiLWZlNzItNGUwNy1hNGY1LWE1ODYzMjk5NGFhYiIsIjU2ZWRhOGJjLWNhOWYtNDAyYy04ZTBkLTAzYTllMTRhZGYzZCIsIjk4MjI3N2JlLTRjZjItNGY4NS05OWQwLWY3Nzg1OWM5MmE2OSIsIjZiMjNlZGJmLTQyZTctNDQ2NC1iMThkLTRiYjM5NWY2OWVhYyIsImVkODQ2OGMwLTE1OGYtNGFjZi1hNGIyLWYyZjZlNTcyYWQzNSIsIjMxZDZkZWM1LTQwMDMtNDZmNy04NDVjLTFlNmYwMGJkMTIwMyIsImIxNGVlMWM1LTJkOGEtNDRjZS1iN2MxLTc2ZDdmZjkyZTA0OSIsIjhhYjBjOGM2LWYyNmUtNDUwOC1iNjRiLWFlMTgzZjE2MGI4ZiIsIjRjZmMyYWM3LTJhM2ItNDA1OS04NDI0LWYwNDcwZTkwODljNyIsIjFlMzc0MmNhLTA3ODktNDIzNi1iZDA1LTIzNzllYjMzYmFlNSIsImFkMzE1ZmNhLWU2YTYtNGNlZi05NWUwLTE5ZjI4MzU0NjUwYiIsImNmN2M4NWNiLTk5ZTQtNDUxNy05NjQ4LTk2ZjEyM2I4MzQ2MCIsImM5NWI3Y2QxLTgwMjgtNDJmMS05ZGZkLTg1NWU5NjlmMWEzZiIsIjE0ODY4ZWQyLWJjYTMtNGViOC1iYWRjLWMyZTUxYmQxOGI0MyIsIjIwMTRlY2QyLTZkYWQtNGFmYy1hMmFmLTlhYmNiZmMwN2Y3MiIsIjk2YmNhNGQ2LTVmNDktNGU1ZS04NDJkLTQxNGRjM2U0MGM5YSIsIjBjZWZlNGRhLTY5ZTQtNGY1ZC04YTM4LTczNjEzYzdjNWEyMCIsIjcwYzMwM2RiLTc1ZTQtNGNhMy1hOTk3LTM4YjhkZjM1NTFiYSIsImRiOWNiNWRmLThjNzMtNDYxZC04OGRhLWMyZTZmZjdlZGFkOCIsImI1ZmE4YmUyLWQzY2MtNGEzZi1iNzFiLTMyNzk4YTk0ZDFiMiIsImVjZjNkMGUyLTljZmMtNDZjYi05ODg4LTQ5YjczYzhkMWRiNCIsImE1Y2U1N2U0LThjNGUtNDljNS05ZDcxLTkxZmRkNjMwZDZhZiIsImYxZTU0Y2VhLWU0ZDctNDY5NC1iZjA5LTllYTZkNDM0ZGE1OSIsIjkyZTZkY2VlLWM2OGMtNGM4ZS05NzlmLTVhNWFlMjI0ZGUwOCIsImY5NzQyNWY3LWMxNjgtNDg0NC04NDdkLWI4OGNlNDM3OTg2OSIsIjFhNTVmZGY5LTIzYTQtNGEzOC05Njk4LTk0Yjc1N2QzMmU3NiIsIjUzNmM2M2ZhLTBhNzAtNGRlZC1iODJlLThkYmMzMzQxYWJhYiIsIjA4YWMxOGZjLTk4YzYtNDgwOS04NjI3LWIwMTYzODcwMDZiZCIsIjhjOWFlZmZkLWI1MjUtNDA4Yi1iM2JmLWQ1YWZjNzEyZDA4ZCIsIjIyYmQyMmZlLTY0OWItNGUyOS05MGI4LWM0MzkzNzU1NDkxMSIsIjMwYmVmOWZmLTI5YjItNDFiNS1iZDlhLTRhZDM4YjkxMDMyZSJdLCJpcGFkZHIiOiIxNDcuMTYxLjE3My4xMTEiLCJuYW1lIjoiU3Jpbml2YXNhbiwgQmFsYWppIiwib2lkIjoiOWZmNGNjYWEtNjIzNy00OGJmLWIyNzctZDZlZWE1NWZlZGY1Iiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTIxMzc2MDYwNS0xMTEyOTczODg4LTE3Mzk5ODY3MS0xMjg2NzA1IiwicHVpZCI6IjEwMDMyMDAyNTcwRENFRTgiLCJyaCI6IjAuQVJBQWFWN1pfbk9OX2tPdi02ZllYdDQyLTBaSWYza0F1dGRQdWtQYXdmajJNQk1RQU5vLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6Ilk4SURvekg2eFZ3aWNLRkRxMnFPRGJiN2JmVjM2YWxvWjlVRVhNYkl6YUUiLCJ0aWQiOiJmZWQ5NWU2OS04ZDczLTQzZmUtYWZmYi1hN2Q4NWVkZTM2ZmIiLCJ1bmlxdWVfbmFtZSI6IkdYMDFIUUBJTlNJTS5CSVoiLCJ1cG4iOiJHWDAxSFFASU5TSU0uQklaIiwidXRpIjoiSmlyQzRSYjd6RU9kZlhDZUd2cVVBQSIsInZlciI6IjEuMCIsInhtc190Y2R0IjoxNDAyMzg0MDQwfQ.O7UW9jIahw8jxopPdOvtJuSIFfBib660yMEaxZSHprBEFJHNYRnwEfUpZuSIEyDCd-UgJK6nyBfDxREliSWLtJYO7ssFucyMRnz-moV-Nx8ncXmVHMOVaTNZzZkPA4OcB75b7r4jdCPrSzGcuXNYKtj7bkKLGkI9NVduk2z8iPABukyg54N9J5w1GqvRZEW7K1ia9-tbVH_OtYUXtQzg9x-Vy8HxOfkM2-CZStOygKY_9C4VDeflx9cqgQW3DSkNbhGhFOj3AQXaFEGvnl9ZXF4uA7dCZ7c7biTidbntzN5ynu6GBeeofi4ZlWfEnwNivZ2K3kfyV76iZ3p4L5rjLA'; // Replace with your actual token
const apiKey = 'aWQwfnchgKpkixAP8psDz4OthP89VEDmRq34BHL3QBAzSeB25ZyP'
// Your search query
const query = 'James';
const headers = {
    'Content-Type': 'application/json',
    'Authorization': authToken,
    'api-key': apiKey
  };
        let result = await fetch(
            `${apiEndpoint}?api-version=${apiVersion}&search=${query}*`,
            {
                method: "GET",
                mode: 'no-cors',
                headers: headers
            }
        )
            .then((response) => response.json())
            .then((data) => data)
            .then((error) => error);
        console.log(result, "result")
        return result;
    }
);

export const {

} = userSlice.actions;

export const userReducer = userSlice.reducer;